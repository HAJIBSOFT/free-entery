
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù‡Ù„ÙŠØ© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø£Ø·ÙØ§Ù„</title>
    <style>
        :root {
            --primary-color: #0056b3;
            --secondary-color: #007bff;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
            --text-color: #333;
            --success-color: #28a745;
            --error-color: #dc3545;
            --border-radius: 12px;
            --box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Tahoma', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 600px;
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .header h1 {
            margin: 0;
            font-size: 1.8rem;
        }

        .header p {
            margin: 5px 0 0;
            opacity: 0.9;
        }

        .main-content {
            padding: 30px;
        }

        .card {
            background-color: #f1f1f1;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 25px;
            text-align: center;
        }

        .card h2 {
            margin-top: 0;
            margin-bottom: 15px;
            color: var(--primary-color);
            font-size: 1.4rem;
        }
        
        .date-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
        }
        
        .date-display span {
            display: block;
            margin-top: 5px;
            font-weight: normal;
            color: #555;
            font-size: 1rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .form-group input[type="date"], .form-group input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
            text-align: right;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        }

        .result-message {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            display: none; /* Hidden by default */
            margin-top: 20px;
        }

        .result-message.success {
            background-color: #d4edda;
            color: var(--success-color);
            border: 1px solid #c3e6cb;
        }

        .result-message.error {
            background-color: #f8d7da;
            color: var(--error-color);
            border: 1px solid #f5c6cb;
        }
        
        .footer {
            text-align: center;
            padding: 15px;
            font-size: 0.9em;
            color: #777;
            background-color: #f1f1f1;
        }

    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <h1>ÙØ¹Ø§Ù„ÙŠØ© Ù…Ø¬ØªÙ…Ø¹Ù†Ø§</h1>
            <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ…! Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø£Ø·ÙØ§Ù„ ØªØ­Øª Ø³Ù† 5 Ø³Ù†ÙˆØ§Øª.</p>
        </div>

        <div class="main-content">
            <div class="card">
                <h2>Ø£Ù‚Ù„ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ</h2>
                <p class="date-display" id="gregorian-cutoff">
                    <span>- Ø¨Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ -</span>
                </p>
                <hr style="border-top: 1px dashed #ccc; margin: 15px 0;">
                <p class="date-display" id="hijri-cutoff">
                    <span>- Ø¨Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ -</span>
                </p>
            </div>

            <div class="manual-check">
                <h2>Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙŠØ¯ÙˆÙŠ Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</h2>
                <div class="form-group">
                    <label for="gregorian-birthdate">Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (Ù…ÙŠÙ„Ø§Ø¯ÙŠ):</label>
                    <input type="date" id="gregorian-birthdate">
                </div>
                <div class="form-group">
                    <label for="hijri-birthdate">Ø£Ùˆ Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (Ù‡Ø¬Ø±ÙŠ - ÙŠÙˆÙ…/Ø´Ù‡Ø±/Ø³Ù†Ø©):</label>
                    <input type="text" id="hijri-birthdate" placeholder="Ù…Ø«Ø§Ù„: 15/09/1442">
                </div>

                <div id="result" class="result-message"></div>
            </div>
        </div>
        
        <div class="footer">
            <p>ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
        </div>
    </div>

    <script>
        // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù‡Ø¬Ø±ÙŠ
        function toHijri(date) {
            return new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
                day: 'numeric', month: 'long', year: 'numeric'
            }).format(date);
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ (Ù†Øµ) Ø¥Ù„Ù‰ Ù…ÙŠÙ„Ø§Ø¯ÙŠ (ØªØ¬ØªÙ‡Ø¯ ÙÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„)
        // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ø§Ù„Ù‡Ø¬Ø±ÙŠ Ù„Ù„Ù†ØµÙŠ Ù„Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ù…Ø¹Ù‚Ø¯. Ù‡Ø°Ø§ Ø­Ù„ ØªÙ‚Ø±ÙŠØ¨ÙŠ.
        // Ù„Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ØŒ ÙŠÙØ¶Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© Ù…ØªØ®ØµØµØ© Ø¥Ø°Ø§ ØªØ·Ù„Ø¨ Ø§Ù„Ø£Ù…Ø± Ø¯Ù‚Ø© Ù…ØªÙ†Ø§Ù‡ÙŠØ©.
        function hijriToGregorian(hijriString) {
            const parts = hijriString.split(/[\/\-\.]/);
            if (parts.length !== 3) return null;
            
            const day = parseInt(parts[0], 10);
            const month = parseInt(parts[1], 10) -1; // Ø§Ù„Ø´Ù‡Ø± ÙŠØ¨Ø¯Ø£ Ù…Ù† 0
            const year = parseInt(parts[2], 10);

            // ØªØ­ÙˆÙŠÙ„ ØªÙ‚Ø±ÙŠØ¨ÙŠ Ø¬Ø¯Ù‹Ø§ ÙˆÙ‚Ø¯ ÙŠØ®ØªÙ„Ù Ø¨ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯
            // (Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù‡Ø¬Ø±ÙŠØ© Ø£Ù‚ØµØ± Ù…Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠØ© Ø¨Ø­ÙˆØ§Ù„ÙŠ 11 ÙŠÙˆÙ…Ù‹Ø§)
            const gregorianYear = Math.floor(year * 0.97 + 622);
            
            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ÙŠ. Ù‚Ø¯ Ù„Ø§ ÙŠÙƒÙˆÙ† Ø¯Ù‚ÙŠÙ‚Ù‹Ø§.
            const tempDate = new Date(gregorianYear, month, day);
            
            // Ø§Ù„Ø­Ù„ Ø§Ù„Ø£Ø¨Ø³Ø· Ù‡Ùˆ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ÙŠ ÙŠØ¹Ø·ÙŠÙ†Ø§ Ù†ÙØ³ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ Ø§Ù„Ù…Ø¯Ø®Ù„
            // ÙˆÙ„ÙƒÙ† Ù‡Ø°Ø§ Ù…Ø¹Ù‚Ø¯. Ø³Ù†Ø¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯Ø®Ù„ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø§Ø³ÙŠ.
            // Ù‡Ù†Ø§ Ù†Ø±Ø¬Ø¹ Ù‚ÙŠÙ…Ø© ØºÙŠØ± ØµØ§Ù„Ø­Ø© Ù„Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¨Ø£Ù† Ø§Ù„ØªØ­ÙˆÙŠÙ„ ØºÙŠØ± Ø¯Ù‚ÙŠÙ‚
            alert("Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ØªÙŠØ¬Ø© Ø¯Ù‚ÙŠÙ‚Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø­Ù‚Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ. Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ø§Ù„Ù‡Ø¬Ø±ÙŠ Ø§Ù„Ù†ØµÙŠ Ù‡Ùˆ Ø¹Ù…Ù„ÙŠØ© ØªÙ‚Ø±ÙŠØ¨ÙŠØ©.");
            return null;
        }

        // Ø­Ø³Ø§Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚Ø·Ø¹ (Ù‚Ø¨Ù„ 5 Ø³Ù†ÙˆØ§Øª Ù…Ù† Ø§Ù„ÙŠÙˆÙ…)
        const today = new Date();
        const cutoffDate = new Date(today.getFullYear() - 5, today.getMonth(), today.getDate());

        // Ø¹Ø±Ø¶ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚Ø·Ø¹ Ø¨Ø§Ù„ØªÙ‚ÙˆÙŠÙ…ÙŠÙ†
        document.getElementById('gregorian-cutoff').innerHTML = `
            ${cutoffDate.toLocaleDateString('ar-EG', { day: 'numeric', month: 'long', year: 'numeric' })}
            <span>- Ø¨Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ -</span>
        `;
        document.getElementById('hijri-cutoff').innerHTML = `
            ${toHijri(cutoffDate)}
            <span>- Ø¨Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ -</span>
        `;
        
        const gregorianInput = document.getElementById('gregorian-birthdate');
        const hijriInput = document.getElementById('hijri-birthdate');
        const resultDiv = document.getElementById('result');

        function checkBirthDate(birthDate) {
            if (!birthDate || isNaN(birthDate.getTime())) {
                resultDiv.style.display = 'none';
                return;
            }

            if (birthDate > cutoffDate) {
                resultDiv.textContent = 'ğŸ‰ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø·ÙÙ„ Ù…Ø¬Ø§Ù†ÙŠ!';
                resultDiv.className = 'result-message success';
            } else {
                resultDiv.textContent = 'â›”ï¸ Ø¹Ù…Ø± Ø§Ù„Ø·ÙÙ„ 5 Ø³Ù†ÙˆØ§Øª Ø£Ùˆ Ø£ÙƒØ«Ø±.';
                resultDiv.className = 'result-message error';
            }
            resultDiv.style.display = 'block';
        }
        
        // Ø¹Ù†Ø¯ Ø§Ù„ØªØºÙŠÙŠØ± ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ
        gregorianInput.addEventListener('input', () => {
            hijriInput.value = ''; // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ø¢Ø®Ø±
            const birthDate = new Date(gregorianInput.value);
            checkBirthDate(birthDate);
        });

        // Ø¹Ù†Ø¯ Ø§Ù„ØªØºÙŠÙŠØ± ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
        hijriInput.addEventListener('input', () => {
            gregorianInput.value = ''; // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ø¢Ø®Ø±
            resultDiv.style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ø£Ù† Ø§Ù„ØªØ­ÙˆÙŠÙ„ ØºÙŠØ± Ù…Ø¶Ù…ÙˆÙ†
            
            // Ù…Ù„Ø§Ø­Ø¸Ø©: ÙƒÙ…Ø§ Ø°ÙƒØ±Ù†Ø§ØŒ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ù†Øµ Ù‡Ø¬Ø±ÙŠ ØºÙŠØ± Ø¯Ù‚ÙŠÙ‚ Ø¨Ø¯ÙˆÙ† Ù…ÙƒØªØ¨Ø© Ù…ØªØ®ØµØµØ©.
            // Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØªØ§Ù„ÙŠ ÙŠØ¹Ø·ÙŠ ØªÙ†Ø¨ÙŠÙ‡Ù‹Ø§ ÙˆÙ„Ø§ ÙŠÙ‚ÙˆÙ… Ø¨Ø§Ù„ØªØ­Ù‚Ù‚.
            if(hijriInput.value.length > 8) { // ØªØ­Ù‚Ù‚ Ø¨Ø³ÙŠØ·
                 hijriToGregorian(hijriInput.value);
            }
        });

    </script>
</body>
</html>